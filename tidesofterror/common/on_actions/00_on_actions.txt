on_actions = {
	
	on_startup = {
		effect = {
			ENG = {
				set_variable = { ENG_greathunger_hunger = random }
				set_variable = { ENG_greathunger_disparitymax = 20 }
			}
		}
	}
	
	on_daily_ENG = {
		effect = {
		
			#Exponential Hunger
			add_to_variable = { ENG_greathunger_hunger = 0.0001 }
			multiply_variable = { ENG_greathunger_hunger = 1.0003 }
			
			clamp_variable = {
				var = ENG_greathunger_hunger
				min = 0
				max = 100
			}
			
			#Updates correct icon frame
			ENG = {
				ENG_greathunger_update_hungy_icon = yes
			}
			
			#Starvation in the nation
			for_loop_effect = {
				end = ENG_greathunger_hunger_stage#Run as many times as the hunger stage has increased
				random_owned_controlled_state = {
					limit = {
						check_variable = {
							state_population > 0
						}
					}
					set_temp_variable = { ENG_scaledgreathunger_hunger = ROOT.ENG_greathunger_hunger }
					multiply_temp_variable = { ENG_scaledgreathunger_hunger = 0.3 }
					
					set_temp_variable = { ENG_scopedstatepop = THIS.state_population }
					multiply_temp_variable = { ENG_scopedstatepop = ENG_scaledgreathunger_hunger }
					multiply_temp_variable = { ENG_scopedstatepop = -1 }
					add_manpower = ENG_scopedstatepop
					multiply_temp_variable = { ENG_scopedstatepop = -1 }
					ROOT = {
						divide_temp_variable = { ENG_scopedstatepop = 1000000 }#for displaying in millions. Using variable |* causes overflow
						add_to_variable = { ENG_greathunger_starved = ENG_scopedstatepop }#ENG_greathunger_starved is on the gui eg 0.512M
					}
				}
			}
			
			#Max Disparity Scaling
			set_variable = { ENG_greathunger_disparitymax = 20 }
			set_temp_variable = { ENG_greathunger_disparitymaxmult = ENG_greathunger_hunger }
			divide_temp_variable = { ENG_greathunger_disparitymaxmult = 1.35 }
			multiply_variable = { ENG_greathunger_disparitymax = ENG_greathunger_disparitymaxmult }
			round_variable = ENG_greathunger_disparitymax
			
			clamp_variable = {
				var = ENG_greathunger_disparitymax
				min = 20
				max = 99
			}
		}
	}
}